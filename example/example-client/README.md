开发机器人主要是进行压力测试和容量测试。其中容量测试是验证手段，不是测试手段。验证QPS、TPS、带宽 ，流量，在线人数等等是否符合预期.



# 压测的目标是什么？

1. 从技术视角审视系统健康正常，比如：系统可用时长 关键路径正常 性能在可接受范围内
2. 从用户视角可访问到，耗时在可接受范围内，访问的功能正常
3. 以尽可能小的成本确保系统当前和未来的容量充足，即容量规划；
4. 解决已知的容量问题，预防未知的容量问题，即容量治理。



# 如何实现上述目标？

## 测量的具体量化指标 

业务指标：响应时间、延迟、吞吐量、并发数、错误率、异常数

中间件指标：Redis、Kafka、rpc

数据库指标：SQL耗时、连接数、读/写耗时

资源指标：CPU、内存、硬盘、网络

比如：QPS\TPS

- QPS（Queries per Second）指的是每秒查询率，是一台服务器每秒能够响应的查询次数，即 1 秒内完成的请求数量，一般针对读请求居多。
- TPS（Transactions per Second）指的是每秒处理的事务数，一般针对写请求居多。

服务期望状态： QPS 2000/S  QPS  2000 <= 100ms  最大接口耗时等等





## 确定容量测试的范围

1. 核心服务
2. 明显流量峰值特征的服务
3. 对响应时间敏感的服务
4. 占用资源大的服务
5. 曾经发生过容量事故的服务
6. 高峰期已经存在容量隐患的服务
7. 新上线对容量情况未知的服务



## 如何科学实施容量测试

 测试方案设计-->测试方案评审-->测试准备-->测试执行-->测试反馈



